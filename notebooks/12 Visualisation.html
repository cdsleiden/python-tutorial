
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>12. Data Visualisation &#8212; Python Tutorial</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Jupyter Notebook basics" href="Jupyter_notebook_basics.html" />
    <link rel="prev" title="11. Data analysis with pandas" href="11%20Pandas.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Python Tutorial</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../Welcome.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tutorial
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1%20Variables_and_data_types.html">
   1. Variables and data types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="2%20Operators.html">
   2. Operators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3%20Working_with_strings.html">
   3. Working with strings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4%20Flow_control.html">
   4. Flow control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="5%20Lists.html">
   5. Lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6%20Dictionaries.html">
   6. Dictionaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="7%20Functions_modules_and_libraries.html">
   7. Functions, Modules and Libraries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8%20Working_with_files_and_folders.html">
   8. Working with files and folders
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9%20Regular_expressions.html">
   9. Regular Expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10%20Data_acquisition.html">
   10. Data acquisition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11%20Pandas.html">
   11. Data analysis with pandas
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   12. Data Visualisation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Practical information
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Jupyter_notebook_basics.html">
   Jupyter Notebook basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Installation.html">
   Installation guidelines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../Other_resources.html">
   Other resources
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Solutions to the exercises
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/1%20Variables_and_data_types.html">
   1. Variables and data types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/2%20Operators.html">
   2. Operators
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/3%20Working_with_strings.html">
   3. Working with strings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/4%20Flow_control.html">
   4. Flow control
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/5%20Lists.html">
   5. Lists
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/6%20Dictionaries.html">
   6. Dictionaries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/7%20Functions_modules_and_libraries.html">
   7. Functions, Modules and Libraries
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/8%20Working_with_files_and_folders.html">
   8. Working with files and folders
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/9%20Regular_expressions.html">
   9. Regular expressions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/10%20Data_acquisition.html">
   10. Data acquisition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/11%20Pandas.html">
   11. Pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Solutions/12%20Visualisation.html">
   12. Visualisation
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/cdsleiden/python-tutorial/main?urlpath=tree/notebooks/12 Visualisation.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/notebooks/12 Visualisation.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   12. Data Visualisation
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data-to-be-visualised">
     The data to be visualised
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib">
   Matplotlib
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-bar-chart">
     A bar chart
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-line-chart">
     A line chart
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#saving-images">
     Saving images
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-scatter-plot">
     A scatter plot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#seaborn">
   Seaborn
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     A scatter plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-bar-plot">
     A bar plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-line-plot">
     A line plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-count-plot">
     A count plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-boxplot">
     A boxplot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-heatmap">
     A heatmap
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#density-plot">
     Density plot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-1">
     Exercise 12.1
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-2">
     Exercise 12.2
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-3">
     Exercise 12.3
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-4">
     Exercise 12.4
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-5">
     Exercise 12.5
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>12. Data Visualisation</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   12. Data Visualisation
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data-to-be-visualised">
     The data to be visualised
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matplotlib">
   Matplotlib
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-bar-chart">
     A bar chart
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-line-chart">
     A line chart
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#saving-images">
     Saving images
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-scatter-plot">
     A scatter plot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#seaborn">
   Seaborn
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     A scatter plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-bar-plot">
     A bar plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-line-plot">
     A line plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-count-plot">
     A count plot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-boxplot">
     A boxplot
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-heatmap">
     A heatmap
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#density-plot">
     Density plot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercises">
   Exercises
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-1">
     Exercise 12.1
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-2">
     Exercise 12.2
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-3">
     Exercise 12.3
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-4">
     Exercise 12.4
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#exercise-12-5">
     Exercise 12.5
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="data-visualisation">
<h1>12. Data Visualisation<a class="headerlink" href="#data-visualisation" title="Permalink to this headline">#</a></h1>
<p>Data visualisations such as graphs and diagrams often make it easier for researchers to explore patterns and trends within large data sets, or to identify notable exceptions to the trends that can be observed.</p>
<p>During the last number of years, a large number of visualisation libraries have been developed for the Python language. One of the most widely used libraries is <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. This tutorial concentrates on three types of visualisations that you can create using matplot: bar charts, line charts and scatter plots. <code class="docutils literal notranslate"><span class="pre">Matplotlib</span></code> is very powerful, but its code can easily get quite complicated. The visualisation library named <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> was built, more or less, as a shell around <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> and simplifies many of its aspects. This tutorial also explains a number of visualisations that can be created using <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>.</p>
<section id="the-data-to-be-visualised">
<h2>The data to be visualised<a class="headerlink" href="#the-data-to-be-visualised" title="Permalink to this headline">#</a></h2>
<p>Data visualisations are obviously based on data. The data to be used in the remainder of this tutorial are created below. The data set contains four columns with numerical data. These have the column names ‘A’, ‘B’, ‘C’ and ‘D’. There is also a column called ‘class’ containing a categorical variable. The column ‘year’, finally, contains years.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">12</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">14</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">19</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">17</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">15</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">21</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">14</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">19</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">21</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">19</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">16</span><span class="p">]</span> <span class="p">,</span> 
<span class="p">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">22</span><span class="p">]</span> <span class="p">]</span> 

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span> <span class="p">,</span> <span class="s1">&#39;C&#39;</span> <span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="p">)</span> 

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;Category1&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category1&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category1&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category2&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category2&#39;</span> <span class="p">,</span>  <span class="s1">&#39;Category3&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category3&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category4&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category4&#39;</span> <span class="p">,</span> <span class="s1">&#39;Category4&#39;</span>  <span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">2000</span> <span class="p">,</span> <span class="mi">2001</span><span class="p">,</span> <span class="mi">2002</span><span class="p">,</span> <span class="mi">2003</span><span class="p">,</span> <span class="mi">2004</span><span class="p">,</span> <span class="mi">2005</span><span class="p">,</span> <span class="mi">2006</span><span class="p">,</span> <span class="mi">2007</span><span class="p">,</span> <span class="mi">2008</span><span class="p">,</span> <span class="mi">2009</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">groupby()</span></code> function from <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, we can easily divide the existing data frame into groups, based on the categories defined in the column <code class="docutils literal notranslate"><span class="pre">class</span></code>. We can also apply statistical functions, such as <code class="docutils literal notranslate"><span class="pre">sum()</span></code>, to each of these groups.</p>
<p>The code below creates a variable (of type <code class="docutils literal notranslate"><span class="pre">Series</span></code>) named <code class="docutils literal notranslate"><span class="pre">sum_A</span></code>. The indexes of this Series contain the various labels of the categories (‘Category1’, ‘Category2’, etc.). The values that are connected to these indexes contain the sum of the values in column A, for each of these categories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sum_A</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span> <span class="s1">&#39;class&#39;</span> <span class="p">)[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The indexes and the values of this <code class="docutils literal notranslate"><span class="pre">Series</span></code> variable can be printed separately, as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span> <span class="n">sum_A</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span> <span class="n">sum_A</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>These values will be used in the visualisations that are discusses below.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="matplotlib">
<h1>Matplotlib<a class="headerlink" href="#matplotlib" title="Permalink to this headline">#</a></h1>
<section id="a-bar-chart">
<h2>A bar chart<a class="headerlink" href="#a-bar-chart" title="Permalink to this headline">#</a></h2>
<p>To create a regular bar chart, we need to work with two variables: (1) the values to be shown on the X-axis and (2) the values to be shown on the Y-axis. In this section, we create a bar chart which visualises the sums of all the values in column A, for each of the categories identified in column ‘class’. As explained above, we can create a list of all the available categories using <code class="docutils literal notranslate"><span class="pre">sum_A.index.tolist()</span></code>, and the totals of all the values in column ‘A’, broken down by category, can be retrieved using the code <code class="docutils literal notranslate"><span class="pre">sum_A.tolist()</span></code>. The former values need to be shown on the X-axis and the latter values on the Y-axis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_axis</span> <span class="o">=</span> <span class="n">sum_A</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">y_axis</span> <span class="o">=</span> <span class="n">sum_A</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>To create a plot using the matplotlib library, you firstly need to import matplotlib’s <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> module. To reduce the amount of typing, the name of the module can be imported under a shorter alias. The code below uses the alias <code class="docutils literal notranslate"><span class="pre">plt</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> module is in fact a collection of functions that can be used to change the nature and the appearance of a plot. It is convenient, as a first step, to add a figure and a set of axes to a plot. They can be added as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>A figure can be thought of as an empty canvas on which you can place your diagrams. Axes, secondly, is a class which consists of a combination of an X-axis and a Y-axis. These axes also includes the ticks and the labels for these ticks. All the data that you need for your visualization will be placed on these axes.</p>
<p>As is demonstarted below, the size of the plot can be changes by working with the figsize parameter in <code class="docutils literal notranslate"><span class="pre">figure()</span></code>. This parameter demands two numbers, given in parentheses. These two numbers specify the width and the height of the figure, respectively.</p>
<p>Creating a bar chart is fairly straightforward. To do this, you can make use of the <code class="docutils literal notranslate"><span class="pre">bar()</span></code> method of Axes. At a minimum, the method demands two parameters: the values that need to be shown on the X-axis, and the values that need to be shown on the Y-axis. These values can be given in the form of lists. The former list contains the words that are connected to the ticks on the X-axis, and the values in the latter list determine the heights of the various bars.</p>
<p>Importantly, you need to conclude the code that creates the data visualisation with the command plt.show(). Without this command, the visualisation will not be created. The command should be used only once.</p>
<p>N.B. When you add the line <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code> to a code block in a Jupyter Notebook, the graph that is created is also shown within the notebook.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span> <span class="n">x_axis</span> <span class="p">,</span> <span class="n">y_axis</span> <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The appearance of the bar chart can be adjusted via a number of parameters in the <code class="docutils literal notranslate"><span class="pre">bar()</span></code> function of Axes. You can specify the <code class="docutils literal notranslate"><span class="pre">width</span></code> and the <code class="docutils literal notranslate"><span class="pre">color</span></code> of the bars, for instance. As values for ‘color’, you can provide hexadecimal colour codes. The opacity of the bars can be manipulated using the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> parameter.</p>
<p>If the labels printed next to or underneath the ticks on the axes cannot be read, because of overlapping labels, for instance, it may be useful to change the orientation of these labels by making use of the <code class="docutils literal notranslate"><span class="pre">xticks()</span></code> or the <code class="docutils literal notranslate"><span class="pre">yticks()</span></code> methods in pyplot. The parameter in this method determines the rotation angle.</p>
<p>It is advisable, furthermore, to annotate and to describe your data visualisations as much as possible. You can add a label for the X-axis and the Y-axis using the methods <code class="docutils literal notranslate"><span class="pre">set_xlabel()</span></code> and <code class="docutils literal notranslate"><span class="pre">set_ylabel()</span></code>. The method <code class="docutils literal notranslate"><span class="pre">set_title()</span></code> may be used to add a general title to the plot. The string that is supplied within parentheses will be shown above the bar chart. These three methods can be used with a parameter named <code class="docutils literal notranslate"><span class="pre">fontsize</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>


<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span> <span class="mi">7</span> <span class="p">,</span><span class="mi">6</span> <span class="p">)</span> <span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>


<span class="n">bar_width</span> <span class="o">=</span> <span class="mf">0.45</span>
<span class="n">opacity</span> <span class="o">=</span> <span class="mf">0.8</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span> <span class="n">x_axis</span> <span class="p">,</span> <span class="n">y_axis</span> <span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">bar_width</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">opacity</span> <span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#781926&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span> <span class="mi">90</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Categories&#39;</span> <span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span> <span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Mean values&#39;</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">12</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="s1">&#39;Sample data&#39;</span> <span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">28</span> <span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-line-chart">
<h2>A line chart<a class="headerlink" href="#a-line-chart" title="Permalink to this headline">#</a></h2>
<p>To create a line chart, you need to make use of the plot() method of the pyplot module. The following code create a line chart which displays the values in the column ‘year’ on the X-axis, and the corresponding values in column ‘D’ on the Y-axis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#930d08&#39;</span> <span class="p">,</span> <span class="n">linestyle</span> <span class="o">=</span> <span class="s1">&#39;dashdot&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Years&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Variable D&#39;</span><span class="p">)</span>


<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span> <span class="s1">&#39;Sample data&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The code above also demonstrates a number of additional possibilities of matplotlib. The <code class="docutils literal notranslate"><span class="pre">plt.style.use()</span></code> method changes the style of the graph. In themselves, the matplotlib graphics have a fairly plain and simple appearance. The style of the graphs can be modified by applying stylesheets. The code above applies the stylesheet named ‘seaborn-pastel’. The box below lists a number of other options.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-whitegrid&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;fivethirtyeight&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-pastel&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;grayscale&#39;</span><span class="p">)</span>

<span class="c1">## To see all the stylesheets that are </span>
<span class="c1">## available, use the following:</span>

<span class="c1"># print( plt.style.available )</span>
</pre></div>
</div>
</div>
</div>
<p>Like <code class="docutils literal notranslate"><span class="pre">bar()</span></code>, the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> method expects two parameters: the values for the X-axis, and the values for the Y-axis. It is also possible to specify the line style for the line chart. You can choose one of the options below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span>
<span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span>
<span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashdot&#39;</span>
<span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dotted&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Matplotlib normally infers the limits of the X-axis and the Y-axis from your data. In some cases, however, you may want to adjust the limits of the axes yourself.</p>
<p>As is illustrated, you can do this via <code class="docutils literal notranslate"><span class="pre">set_xlim()</span></code>. The corresponding method for the Y-axis is <code class="docutils literal notranslate"><span class="pre">set_ylim()</span></code>.  These two methods take two parameters: the lowest value and the highest value. The two numbers that you mention determine the range of values that you shall see on the X-axis and the Y-axis.</p>
</section>
<section id="saving-images">
<h2>Saving images<a class="headerlink" href="#saving-images" title="Permalink to this headline">#</a></h2>
<p>Next to opening the graph in a viewer on your screen, using show(), it is also possible to instruct Python to create an image file on your computer, via the <code class="docutils literal notranslate"><span class="pre">savefig()</span></code> method. As the first parameter to this function, you must provide a filename. The filename must include an extension, such as ‘jpeg’, ‘tiff’, ‘png’ or ‘pdf’. The methods savefig() and show() are mutually exclusive. When you use one of these, you cannot use the other.</p>
</section>
<section id="a-scatter-plot">
<h2>A scatter plot<a class="headerlink" href="#a-scatter-plot" title="Permalink to this headline">#</a></h2>
<p>A scatter plot is a data visualisation that makes use of dots to represent the values of two numerical variables. To create a scatterplot, you need to use the method <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> in the Axes Class. Like <code class="docutils literal notranslate"><span class="pre">plot()</span></code> and <code class="docutils literal notranslate"><span class="pre">bar()</span></code>, the <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> method minimally demands two parameters: the values to be shown on the X-axis and the values that need to be plotted on the Y-axis. The sizes of the dots can be specified in the <code class="docutils literal notranslate"><span class="pre">s</span></code> parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-whitegrid&#39;</span><span class="p">)</span>


<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">6</span><span class="p">,</span><span class="mi">6</span> <span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>


<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>  <span class="n">s</span><span class="o">=</span><span class="mi">80</span> <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="s1">&#39;#991ac7&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Variable C&#39;</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Variable D&#39;</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The colours of the dots in the scatter plot can be specified via a parameter called <code class="docutils literal notranslate"><span class="pre">c</span></code>. This parameter can be assigned a single static colour, as in the example above.</p>
<p>When your data set includes a categorical variable, such as the variable named ‘class’ in the sample data set that is used in this tutorial, it can be helpful of the colours or the points can also vary along with the categories they belong to. Such more dynamic ways colouring the points can help to explore the differences between the various categories.</p>
<p>To accomplish this, we must pass a list of colour code as a value to the <code class="docutils literal notranslate"><span class="pre">c</span></code> parameter. This list must have exactly the same number of items as the number of dots to be shown in the scatter plot. Basically, this list assigns a colour to each item in these lists. The code below creates a list of colours, also named <code class="docutils literal notranslate"><span class="pre">colours</span></code>, based on the values in the ‘class’ column.</p>
<p>When the dots are displayed in different colours, it can obviously be useful to add a legend to explain the meaning of these colours. As will be shown below, the process of creating a legend is easier when we also have a dictionary which associates colours with labels for these colours. Next to a list of colours, the code below also creates a dictionary, named <code class="docutils literal notranslate"><span class="pre">legendDict</span></code>, which links colours to categories.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colours</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">legendDict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="k">for</span> <span class="n">index</span> <span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>

    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Category1&#39;</span><span class="p">:</span>
        <span class="n">colours</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s1">&#39;#a88732&#39;</span> <span class="p">)</span>
        <span class="n">legendDict</span><span class="p">[</span> <span class="n">colours</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Category2&#39;</span><span class="p">:</span>
        <span class="n">colours</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s1">&#39;#265c28&#39;</span> <span class="p">)</span>
        <span class="n">legendDict</span><span class="p">[</span> <span class="n">colours</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Category3&#39;</span><span class="p">:</span>
        <span class="n">colours</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s1">&#39;#a0061a&#39;</span> <span class="p">)</span>
        <span class="n">legendDict</span><span class="p">[</span> <span class="n">colours</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">colours</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="s1">&#39;#431670&#39;</span> <span class="p">)</span>
        <span class="n">legendDict</span><span class="p">[</span> <span class="n">colours</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The list and the dictionary can be used, subsequently, in the code that creates the scatter plot. The plot itself is created, again, using the <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> method. In this version of the scatter plot, the <code class="docutils literal notranslate"><span class="pre">c</span></code> parameter is assigned the <code class="docutils literal notranslate"><span class="pre">colours</span></code> list that was created earlier.</p>
<p>As was already mentioned earlier, the <code class="docutils literal notranslate"><span class="pre">s</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> method determines the sizes of the points. In the previous example, <code class="docutils literal notranslate"><span class="pre">s</span></code> was assigned a fixed value. In the value below, however, the <code class="docutils literal notranslate"><span class="pre">s</span></code> parameter is connected to the values in column ‘A’ (multiplied by 20, to make the differences more pronounced). The sizes of the points thus help to give information about the values in column A.</p>
<p>The last few lines of the example below also generates a legend. It uses the legendDict created earlier. I this dictionary, the indexes store the colours, and the values store the labels associated with these colours. The code navigates across all the available colours, using the <code class="docutils literal notranslate"><span class="pre">for</span></code> keyword. It adds all of these colours to the diagram, via the <code class="docutils literal notranslate"><span class="pre">label</span></code> parameter of the <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> method. It does not add any new points to the diagram, however. The first two parameters (which normally define the values to be shown on the X-axis and the Y-axis), contain empty lists.</p>
<p>The legend is added, finally, using the legend() method, as illustated. This method can be used with the <code class="docutils literal notranslate"><span class="pre">loc()</span></code> parameter, which specifies the location of the legend, and the <code class="docutils literal notranslate"><span class="pre">frameon()</span></code> method. With frameon = False, the legend will be shown in a frame. When you use frameon = False, the background of the legend will become transparent.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-whitegrid&#39;</span><span class="p">)</span>


<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span><span class="mi">8</span> <span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>


<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">colours</span> <span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>  <span class="n">s</span><span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">20</span> <span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Variable C&#39;</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Variable D&#39;</span> <span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matplotlib scatter plot&#39;</span><span class="p">)</span>


<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">legendDict</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span> <span class="p">[],</span> <span class="p">[],</span> <span class="n">c</span> <span class="o">=</span> <span class="n">item</span> <span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">legendDict</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">3</span> <span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span> <span class="p">,</span>  <span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">}</span> <span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="seaborn">
<h1>Seaborn<a class="headerlink" href="#seaborn" title="Permalink to this headline">#</a></h1>
<p>As you noticed, the code that is needed to create a visualisation in matplotlib can quickly become complicated, especially if you want to work with different colours and with legends.</p>
<p>The whole process of working with colours and legends can be simplified enormously if we replace some of the methods from matplotlib with methods from the <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> library. This latter visualisation library may be viewed as as extention and as a simplification of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>. According to its [documentation]
(<a class="reference external" href="http://seaborn.pydata.org/index.html">http://seaborn.pydata.org/index.html</a>), <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> “provides a high-level interface for drawing attractive and informative statistical graphics”. You can use <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> to create fairly complicated visualisations using a limited number of functions, and, fortunately, much of the processing takes place behind the scenes.</p>
<p>A second important advantage of <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> is that it works well in combination with <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, a Python library for data analysis.</p>
<p>To work with the methods from <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>, the library firstly needs to be imported. The alias ‘sns’ is conventional. When you work with <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>, you also need to import <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, as this is the library <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> is based on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> 
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h2>A scatter plot<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h2>
<p>Scatter plots can be created using the <code class="docutils literal notranslate"><span class="pre">scatterplot()</span></code> method. The <code class="docutils literal notranslate"><span class="pre">data</span></code> parameter needs to refer to <code class="docutils literal notranslate"><span class="pre">pandas</span></code> data frame containing the dataset you want to visualise. The parameters <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> specify the variables (i.e. the columns) from this dataset that should be displayed on teh X-axis and the Y-axis, respectively.</p>
<p>You can specify a fixed colour for the points using the <code class="docutils literal notranslate"><span class="pre">color</span></code> parameter, and the size of the points can be set using the <code class="docutils literal notranslate"><span class="pre">s</span></code> parameter.</p>
<p>If you want to change the size of the figure, you can use the <code class="docutils literal notranslate"><span class="pre">figure()</span></code> method from <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>’s <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> module. As values for the <code class="docutils literal notranslate"><span class="pre">figsize</span></code> parameter, you can specify the width and the height of the graph in inches.  To save the image that is created, however, you can work with the <code class="docutils literal notranslate"><span class="pre">savefig()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span><span class="mi">8</span> <span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-whitegrid&#39;</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span> <span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#a0061a&#39;</span> <span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">)</span> 

<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;scatterplot.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The code above is not necessarily more efficient that the code that you would use for this task in matplotlib. The true value of seaborn becomes apparent, however, when we want to create a scatter plot in which the sizes and the colours of the point are determined by the values from our data set. To let the colours of the points represent the values in a specific column, you can simply mention the name of this column in the <code class="docutils literal notranslate"><span class="pre">hue</span></code> parameter. In the code below, you can see that the hues are determined by the values of the <code class="docutils literal notranslate"><span class="pre">class</span></code> column.</p>
<p>You can also let the sizes of the points vary along with the values in a specific column by supplying the name of this column as the value of the <code class="docutils literal notranslate"><span class="pre">size</span></code> parameter. The point sizes in the graph below represent the values in the column named ‘A’.</p>
<p>When the actual values in the column that you associate with the <code class="docutils literal notranslate"><span class="pre">size</span></code> parameter are too small, you can rescale these values using the <code class="docutils literal notranslate"><span class="pre">sizes</span></code> parameter, which demand two values: a minimum size and a maximum size. The values of the column that is mentioned in <code class="docutils literal notranslate"><span class="pre">size</span></code> will then be rescaled, on the range that is determined by these minimum and maximum size.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">palette</span></code> parameter, we can specify the colours to be used in the scatter plot. Examples of existing colour palettes include “Blues”, “BuGn”, “YlOrRd”, “GnBu”, “OrRd”, “Greens”, “Reds”. You can also define a list of colours yourself, and use the name of this list as value for the <code class="docutils literal notranslate"><span class="pre">palette</span></code> parameter. I this case, the number of items in this list must be equal to or higher than the number of options If we leave out the <code class="docutils literal notranslate"><span class="pre">palette</span></code> parameter, seaborn will choose its own colours.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">hue</span></code> and/or the <code class="docutils literal notranslate"><span class="pre">size</span></code> parameter is used in the <code class="docutils literal notranslate"><span class="pre">scatterplot()</span></code> method, <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> will add a legend automatically. To make sure that the legend is shown outside of the graph, you can add the following line of code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colours</span> <span class="o">=</span> <span class="p">[</span>  <span class="s1">&#39;#a88732&#39;</span> <span class="p">,</span>  <span class="s1">&#39;#265c28&#39;</span> <span class="p">,</span> <span class="s1">&#39;#a0061a&#39;</span> <span class="p">,</span>  <span class="s1">&#39;#431670&#39;</span> <span class="p">]</span>

<span class="c1">## The line below applies a stylesheet</span>
<span class="c1">## and also adds spacing in between the lines of the legend </span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s1">&#39;whitegrid&#39;</span><span class="p">,</span> <span class="n">rc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;legend.labelspacing&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>


<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span><span class="mi">8</span> <span class="p">))</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>  <span class="n">legend</span> <span class="o">=</span> <span class="s1">&#39;brief&#39;</span> <span class="p">,</span>  <span class="n">hue</span><span class="o">=</span> <span class="s1">&#39;class&#39;</span> <span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="p">,</span> <span class="n">sizes</span><span class="o">=</span><span class="p">(</span> <span class="mi">100</span> <span class="p">,</span> <span class="mi">1000</span><span class="p">),</span> <span class="n">palette</span> <span class="o">=</span> <span class="n">colours</span> <span class="p">)</span>

<span class="c1"># this next line makes sure that the legend is shown outside of the graph</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-bar-plot">
<h2>A bar plot<a class="headerlink" href="#a-bar-plot" title="Permalink to this headline">#</a></h2>
<p>Bar plots can be created using the <code class="docutils literal notranslate"><span class="pre">barplot()</span></code> method. As is the case for the <code class="docutils literal notranslate"><span class="pre">scatterplot()</span></code> method, <code class="docutils literal notranslate"><span class="pre">barplot()</span></code> takes a <code class="docutils literal notranslate"><span class="pre">data</span></code> parameter which need to refer to a <code class="docutils literal notranslate"><span class="pre">pandas</span></code> dataframe, together with an <code class="docutils literal notranslate"><span class="pre">x</span></code> and a <code class="docutils literal notranslate"><span class="pre">y</span></code> parameter. The former parameter specifies the values to be shown on the X-axis, and the latter parameter specifies the height iof the bars that are drawn. The <code class="docutils literal notranslate"><span class="pre">hue</span></code> parameter can be used to vary the colours of the bars. If this parameter refers to a categorical variable, each unique value for this variable will be assigned a different colour. To make sure that the bars do not overlap, you can set the value of the <code class="docutils literal notranslate"><span class="pre">dodge</span></code> parameter to ‘False’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span><span class="mi">8</span> <span class="p">))</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span> <span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">,</span> <span class="n">y</span><span class="o">=</span> <span class="s1">&#39;D&#39;</span> <span class="p">,</span> <span class="n">hue</span> <span class="o">=</span> <span class="s1">&#39;class&#39;</span> <span class="p">,</span> <span class="n">dodge</span> <span class="o">=</span> <span class="kc">False</span> <span class="p">,</span> <span class="n">palette</span> <span class="o">=</span> <span class="s1">&#39;YlOrRd&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.05</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">borderaxespad</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-line-plot">
<h2>A line plot<a class="headerlink" href="#a-line-plot" title="Permalink to this headline">#</a></h2>
<p>To create a line plot, use the <code class="docutils literal notranslate"><span class="pre">lineplot()</span></code> method. The colour of the line can be changed using the <code class="docutils literal notranslate"><span class="pre">color</span></code> parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;D&quot;</span> <span class="p">,</span> <span class="n">data</span><span class="o">=</span> <span class="n">df</span> <span class="p">,</span> <span class="n">color</span>  <span class="o">=</span> <span class="s1">&#39;#AA6799&#39;</span> <span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-count-plot">
<h2>A count plot<a class="headerlink" href="#a-count-plot" title="Permalink to this headline">#</a></h2>
<p>You can see that, using seaborn, you can create fairly advanced plots with only a few lines of code.</p>
<p>If you want to see the number of items for each of the categories that have been assigned in the <code class="docutils literal notranslate"><span class="pre">class</span></code> column, for instance, you can work with the <code class="docutils literal notranslate"><span class="pre">countplot()</span></code> method, as follows.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span> <span class="n">df</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-boxplot">
<h2>A boxplot<a class="headerlink" href="#a-boxplot" title="Permalink to this headline">#</a></h2>
<p>With seaborn, we can also create many other types of visualisations. A boxplot, for instance, is a diagram which visualises the minimum, the maximum, the median and the first and third quartiles. It can be created using the <code class="docutils literal notranslate"><span class="pre">boxplot()</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

<span class="c1">## A new data frame is created, containing only the numerical variables</span>
<span class="c1">## The categorical variables (&#39;year&#39; and &#39;class&#39;) are removed.</span>
<span class="n">df2</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="p">[</span> <span class="s1">&#39;A&#39;</span> <span class="p">,</span> <span class="s1">&#39;B&#39;</span> <span class="p">,</span> <span class="s1">&#39;C&#39;</span> <span class="p">,</span> <span class="s1">&#39;D&#39;</span> <span class="p">]</span> <span class="p">)</span>
 
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df2</span> <span class="p">,</span> <span class="n">palette</span> <span class="o">=</span> <span class="n">colours</span> <span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="a-heatmap">
<h2>A heatmap<a class="headerlink" href="#a-heatmap" title="Permalink to this headline">#</a></h2>
<p>In seaborn, a heatmap clarifying the correlations among the variables in the data set can be created using only two lines of code. The heapmap below suggests that there is moderate correlation between variables ‘B’ and ‘D’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Correlations can be calculated using pandas&#39; corr() </span>
<span class="n">correlations</span> <span class="o">=</span> <span class="n">df2</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
 
<span class="c1"># Heatmap</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">correlations</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="density-plot">
<h2>Density plot<a class="headerlink" href="#density-plot" title="Permalink to this headline">#</a></h2>
<p>To visualise density regions, you can work with <code class="docutils literal notranslate"><span class="pre">kdeplot()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">kdeplot</span><span class="p">(</span> <span class="n">data</span> <span class="o">=</span> <span class="n">df</span> <span class="p">,</span> <span class="n">x</span><span class="o">=</span> <span class="s1">&#39;A&#39;</span> <span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="s1">&#39;B&#39;</span> <span class="p">,</span> <span class="n">shade</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Many other types are diagrams can be created. For more information, visit the <a class="reference external" href="https://seaborn.pydata.org/examples/index.html">gallery</a> or the <a class="reference external" href="https://seaborn.pydata.org/tutorial.html">tutorials</a> on the seaborn website.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="exercises">
<h1>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h1>
<section id="exercise-12-1">
<h2>Exercise 12.1<a class="headerlink" href="#exercise-12-1" title="Permalink to this headline">#</a></h2>
<p>In exercise 11.3, you created a CSV file named ‘prices_of_coffee_over_time.csv’, containing data about the average price of a pound of coffee on a range of dates. Use this CSV file to create a line chart which visualises the development of these prices over time.</p>
</section>
<section id="exercise-12-2">
<h2>Exercise 12.2<a class="headerlink" href="#exercise-12-2" title="Permalink to this headline">#</a></h2>
<p>Download the following data set:</p>
<p><a class="reference external" href="https://edu.nl/bcm4x">https://edu.nl/bcm4x</a></p>
<p>This file contains data collected for the <a class="reference external" href="https://stats.oecd.org/index.aspx?DataSetCode=BLI">2018 Better Life Index</a>, which was created by the OECD to visuale some of the key factors  that contribute to well-being in OECD countries, including education, income, housing and environment.</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code>, create a bar chart which can be used to compare either the ‘personal_earnings’ or the ‘life_satisfaction’ in the various OECD countries. The colours of the bars should give information about the continents.</p>
<p>Customise the graph as follows:</p>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">hls</span></code> colour palette</p></li>
<li><p>The size of the figure must be 14x10</p></li>
<li><p>x-tick labels must be rotated by 90 degrees</p></li>
<li><p>The legend must be placed outside of the plot</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://edu.nl/bcm4x&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;bli.csv&#39;</span> <span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv</span><span class="p">:</span>
        <span class="n">csv</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;bli.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-12-3">
<h2>Exercise 12.3<a class="headerlink" href="#exercise-12-3" title="Permalink to this headline">#</a></h2>
<p>Use the CSV file that you have downloaded for exercise in 12.2 to create a scatter plot. The X-axis must visualise the values in the column ‘self-reported_health’, and the Y-axis must show the ‘employment_rate’. The size of the points must represent the ‘educational_attainment’ and the colour of the points ust indicate the values collected for ‘air_pollution’.</p>
<p>Apply the following specifications:</p>
<ul class="simple">
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">'whitegrid'</span></code> style.</p></li>
<li><p>Work with the <code class="docutils literal notranslate"><span class="pre">'Greens'</span></code> colour palette.</p></li>
<li><p>Sizes of the dots should range from 100 to 1000.</p></li>
<li><p>The size of the figure must be 10x10</p></li>
<li><p>The legend must be placed outside of the plot</p></li>
<li><p>Add labels to all of the dots, explaining the names of the countries that are represented. The font size must be 12.8.</p></li>
</ul>
<p>N.B. Names of exiting colour palettes can be found at <a class="reference external" href="https://python-graph-gallery.com/101-make-a-color-palette-with-seaborn/">https://python-graph-gallery.com/101-make-a-color-palette-with-seaborn/</a> or at <a class="reference external" href="https://seaborn.pydata.org/tutorial/color_palettes.html">https://seaborn.pydata.org/tutorial/color_palettes.html</a>. Examples include: “Blues”, “BuGn”, “YlOrRd”, “GnBu”, “OrRd”, “Greens”, “Reds”. You may also experimnent with some other colour palettes in this exercise.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_axis</span> <span class="o">=</span> <span class="s1">&#39;self-reported_health&#39;</span>
<span class="n">y_axis</span> <span class="o">=</span>  <span class="s1">&#39;employment_rate&#39;</span>
<span class="n">point_size</span> <span class="o">=</span>  <span class="s1">&#39;educational_attainment&#39;</span>
<span class="n">point_colour</span> <span class="o">=</span> <span class="s1">&#39;air_pollution&#39;</span> 
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-12-4">
<h2>Exercise 12.4<a class="headerlink" href="#exercise-12-4" title="Permalink to this headline">#</a></h2>
<p>PISA is the OECD’s <a class="reference external" href="https://www.oecd.org/pisa/">Programme for International Student Assessment</a>. This programme evaluates educational systems globally by measuring the performance of 15 year-old-children in mathematics, science and reading. The latest study is from 2018.</p>
<p>The CSV file ‘<a class="reference external" href="https://edu.nl/p97ma">pisa.csv</a>’ contains all the scores measured for mathematics and reading in between 2000 and 2018.</p>
<p>Using Pandas, Matplotlib and Seaborn, create visualisations which can help to answer the following questions:</p>
<ol class="simple">
<li><p>How did the various countries that were examined in 2018 perform on the reading tests? Which countries had the highest scores, and which countries had the lowest scores? Try to answer this question via a bar plot. You can limit the analyses to the the ‘total’ scores (i.e. those records in which column ‘object’ has value ‘TOT’). Create a figure with a size of 10x7, rotate the x-tick labels by 90 degrees and use the colour ‘#910c26’’ fpor all the bars.</p></li>
<li><p>Same as (1), but try to give information about the continents as well. Use distinctive colours for each continent.</p></li>
<li><p>How do the scores for reading compare to the scores for mathematics? Focus on the scvores obtained in 2018. Answer this question by creating a scatter plot.</p></li>
<li><p>Same as (3), but add labels to indicate the scores for the countries captured in the list named <code class="docutils literal notranslate"><span class="pre">countries</span></code>, defined below.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">countries</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;Netherlands&#39;</span><span class="p">,</span> <span class="s1">&#39;France&#39;</span> <span class="p">,</span> <span class="s1">&#39;Germany&#39;</span> <span class="p">,</span> <span class="s1">&#39;Belgium&#39;</span><span class="p">,</span> <span class="s1">&#39;Luxembourg&#39;</span><span class="p">,</span><span class="s1">&#39;Italy&#39;</span><span class="p">]</span>
</pre></div>
</div>
<ol class="simple">
<li><p>How did the scores for reading develop in the Netherlands in between 2000 and 2018? Focus on the total scores.</p></li>
<li><p>How did the scores for maths develop in the Netherlands in between 2000 and 2018? Focus on the score for boys and for girls separately.</p></li>
<li><p>Have the scores remained relatively stable over the years if we look at the total scores? Or has there been some variation? How does the variation of the scores for the Netherlands compare to the scores in France, Germany, Belgium and Luxembourg? Try to answer this question by crearing a boxplot.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://edu.nl/p97ma&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;pisa.csv&#39;</span> <span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv</span><span class="p">:</span>
        <span class="n">csv</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;pisa.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## All scores received for reading in 2018</span>
<span class="n">df_2018</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;subject&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;TOT&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2018</span><span class="p">)</span>  <span class="p">]</span>
<span class="n">df_2018</span> <span class="o">=</span> <span class="n">df_2018</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span> <span class="s1">&#39;pisa_read&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>

<span class="c1"># Scores received by Dutch students</span>
<span class="n">df_nl</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;location_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Netherlands&#39;</span> <span class="p">]</span>

<span class="c1"># Scores received by all Dutch students</span>
<span class="n">df_nl_tot</span> <span class="o">=</span> <span class="n">df_nl</span><span class="p">[</span> <span class="n">df_nl</span><span class="p">[</span><span class="s1">&#39;subject&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;TOT&#39;</span> <span class="p">]</span> 

<span class="c1"># Scores for boys and girls separately </span>
<span class="n">df_nl_bg</span> <span class="o">=</span> <span class="n">df_nl</span><span class="p">[</span> <span class="n">df_nl</span><span class="p">[</span><span class="s1">&#39;subject&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span> <span class="p">[</span><span class="s1">&#39;BOY&#39;</span><span class="p">,</span><span class="s1">&#39;GIRL&#39;</span><span class="p">]</span>  <span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="exercise-12-5">
<h2>Exercise 12.5<a class="headerlink" href="#exercise-12-5" title="Permalink to this headline">#</a></h2>
<p>Download the CSV file ‘nobel.csv’: <a class="reference external" href="https://edu.nl/3xmbd">https://edu.nl/3xmbd</a>. If you have done exercise 11.1 of this tutorial, you have downloaded this file already. Visualise the data in this data set in the followng ways.</p>
<ul class="simple">
<li><p>Create a linechart in Seaborn to visualize the number of Nobel laureates per year. Can we find support for the claim that people increasingly need to share their Nobel Prizes with colleagues?</p></li>
<li><p>What are the nationalities of the Nobel laureates in the data set? Try to generate a bar plot which displays the various countries on the x-axis and the number of Nobel Prize winners produced by these countries on the y-axis. Limit your analysis to the countries listed in <code class="docutils literal notranslate"><span class="pre">countries</span></code> below.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">countries</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Netherlands&#39;</span><span class="p">,</span> <span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;Switzerland&#39;</span><span class="p">,</span> <span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="s1">&#39;Sweden&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Norway&#39;</span><span class="p">,</span> <span class="s1">&#39;United Kingdom&#39;</span><span class="p">,</span> <span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;Poland&#39;</span><span class="p">,</span> <span class="s1">&#39;Germany&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;United States of America&#39;</span><span class="p">,</span> <span class="s1">&#39;Belgium&#39;</span><span class="p">,</span> <span class="s1">&#39;Australia&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ireland&#39;</span><span class="p">,</span> <span class="s1">&#39;Canada&#39;</span><span class="p">,</span> <span class="s1">&#39;Argentina&#39;</span><span class="p">,</span> <span class="s1">&#39;Japan&#39;</span><span class="p">,</span> <span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;Brazil&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Bulgaria&#39;</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Examine the correlation between the age of the Nobel laureate and year in which the prize was awarded. Do winners get younger, on average? Limit your analysis to the Prizes awarded in Chemistry. To answer this and the next question, you may reuse code developed for exercise 11.1.</p></li>
<li><p>Create a boxplot to visualise the age distribution per category.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://edu.nl/3xmbd&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">response</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;nobel.csv&#39;</span> <span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">csv</span><span class="p">:</span>
        <span class="n">csv</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;nobel.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># extract the year of birth from the birth date</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Birth Year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Birth Date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>

<span class="c1"># calculate age by subtracting birth year from year of nobel prize </span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Birth Year&#39;</span><span class="p">]</span>

<span class="c1">## group by year</span>
<span class="n">laureates_per_year</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)[</span><span class="s1">&#39;Laureate ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1">## convert the result of &#39;group by&#39; to data frame</span>
<span class="n">lpg_df</span> <span class="o">=</span> <span class="n">laureates_per_year</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">lpg_df</span> <span class="o">=</span> <span class="n">lpg_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span><span class="s1">&#39;Number&#39;</span><span class="p">]</span>
<span class="n">lpg_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">columns</span>


<span class="n">countries</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Netherlands&#39;</span><span class="p">,</span> <span class="s1">&#39;France&#39;</span><span class="p">,</span> <span class="s1">&#39;Switzerland&#39;</span><span class="p">,</span> <span class="s1">&#39;India&#39;</span><span class="p">,</span> <span class="s1">&#39;Sweden&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Norway&#39;</span><span class="p">,</span> <span class="s1">&#39;United Kingdom&#39;</span><span class="p">,</span> <span class="s1">&#39;Spain&#39;</span><span class="p">,</span> <span class="s1">&#39;Russia&#39;</span><span class="p">,</span> <span class="s1">&#39;Poland&#39;</span><span class="p">,</span> <span class="s1">&#39;Germany&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Italy&#39;</span><span class="p">,</span> <span class="s1">&#39;United States of America&#39;</span><span class="p">,</span> <span class="s1">&#39;Belgium&#39;</span><span class="p">,</span> <span class="s1">&#39;Australia&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Ireland&#39;</span><span class="p">,</span> <span class="s1">&#39;Canada&#39;</span><span class="p">,</span> <span class="s1">&#39;Argentina&#39;</span><span class="p">,</span> <span class="s1">&#39;Japan&#39;</span><span class="p">,</span> <span class="s1">&#39;China&#39;</span><span class="p">,</span> <span class="s1">&#39;Brazil&#39;</span><span class="p">,</span>
       <span class="s1">&#39;Bulgaria&#39;</span><span class="p">]</span>

<span class="n">df_countries</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Birth Country&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">countries</span><span class="p">)</span> <span class="p">]</span>

<span class="c1"># group by countries</span>
<span class="n">laureates_per_country</span> <span class="o">=</span> <span class="n">df_countries</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Birth Country&#39;</span><span class="p">)[</span><span class="s1">&#39;Laureate ID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">lpg_df</span> <span class="o">=</span> <span class="n">laureates_per_country</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>

<span class="c1"># Rename the columns</span>
<span class="n">lpg_df</span> <span class="o">=</span> <span class="n">lpg_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Country&#39;</span><span class="p">,</span><span class="s1">&#39;Number&#39;</span><span class="p">]</span>
<span class="n">lpg_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">columns</span>

<span class="c1"># Sort countries by number of laureates</span>
<span class="n">lpg_df</span> <span class="o">=</span> <span class="n">lpg_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Number&#39;</span><span class="p">]</span> <span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="11%20Pandas.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">11. Data analysis with pandas</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Jupyter_notebook_basics.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Jupyter Notebook basics</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Peter Verhaar and Ben Companjen<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>